from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import ApplicationBuilder, CommandHandler, CallbackQueryHandler, ContextTypes
import os

BOT_TOKEN = os.getenv("TOKEN")

async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    name = update.effective_user.first_name or "ØµØ¯ÙŠÙ‚ÙŠ"
    text = f"""Ø£Ù‡Ù„Ø§Ù‹ {name} ğŸ‘‹
ÙŠØ³Ø¹Ø¯Ù†ÙŠ Ø£ÙƒÙˆÙ† Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø±Ù‚Ù…ÙŠ ğŸ§­  
ÙƒÙ„Ù‘Ù…Ù†ÙŠ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø§Ù‡Ø²Ø© Ø¯ÙŠ ğŸ‘‡"""

    keyboard = [
        [InlineKeyboardButton("ğŸ“‹ Ù…Ù‡Ø§Ù…ÙŠ", callback_data="todo")],
        [InlineKeyboardButton("ğŸ§  Ø§Ø³Ø£Ù„Ù†ÙŠ", callback_data="ask")],
        [InlineKeyboardButton("ğŸ’¬ Ø§Ù‚ØªØ¨Ø§Ø³", callback_data="quote")]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await update.message.reply_text(text, reply_markup=reply_markup)

async def button_handler(update: Update, context: ContextTypes.DEFAULT_TYPE):
    query = update.callback_query
    await query.answer()
    
    if query.data == "todo":
        await query.message.reply_text("ØªÙ…Ø§Ù…! Ø§ÙƒØªØ¨Ù„ÙŠ Ø§Ù„Ù…Ù‡Ù…Ø© Ø§Ù„Ù„ÙŠ Ø­Ø§Ø¨Ø¨ ØªØ¶ÙŠÙÙ‡Ø§ âœï¸")
    elif query.data == "ask":
        await query.message.reply_text("Ø§Ø³Ø£Ù„Ù†ÙŠ Ø£ÙŠ Ø´ÙŠØ¡ØŒ ÙˆÙ‡Ø¬Ø§ÙˆØ¨Ùƒ Ø¨Ø¹Ù‚Ù„ÙŠ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ğŸ§ ")
    elif query.data == "quote":
        await query.message.reply_text("â€œØ§Ø¨Ø¯Ø£ ÙˆÙ„Ùˆ Ø¨Ø®Ø·ÙˆØ© ØµØºÙŠØ±Ø©ØŒ Ø§Ù„Ù…Ù‡Ù… ØªØ¨Ø¯Ø£.â€ âœ¨")

def main():
    app = ApplicationBuilder().token(BOT_TOKEN).build()
    app.add_handler(CommandHandler("start", start))
    app.add_handler(CallbackQueryHandler(button_handler))
    app.run_polling()

if __name__ == "__main__":
    main()